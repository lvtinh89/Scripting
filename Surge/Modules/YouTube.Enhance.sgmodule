#!name=App Youtube (Music) (>=iOS15)
#!desc=Premium Youtube & Youtube Music, 2025-08-01
#!category=ğŸŠ Youtube
#!arguments=å±è”½ä¸Šä¼ æŒ‰é’®:true,å±è”½é€‰æ®µæŒ‰é’®:true,å±è”½ShortsæŒ‰é’®:false,å­—å¹•ç¿»è¯‘è¯­è¨€:off,æ­Œè¯ç¿»è¯‘è¯­è¨€:off,å¯ç”¨è°ƒè¯•æ¨¡å¼:false
#!arguments-desc=- å±è”½å‚æ•°ï¼š[true, false] \n- ç¿»è¯‘å‚æ•°ï¼š[è¯­è¨€ä»£ç , off] \n\n1. è¯­è¨€ä»£ç éµå¾ª Google Translate Languages Codes, å½“å¡«å…¥ off æ—¶å…³é—­ç¿»è¯‘\n2. å¼€å¯è°ƒè¯•æ¨¡å¼ç”¨äºè¾“å‡ºæ›´å¤šæ—¥å¿—

# > Note
# Youtube ç”»ä¸­ç”»å’Œåå°æ’­æ”¾å¯åœ¨å®¢æˆ·ç«¯å†…å…³é—­
#   - è®¾ç½® -> æ’­æ”¾ -> ç”»ä¸­ç”»
#   - è®¾ç½® -> åå°æ’­æ”¾å’Œä¸‹è½½ -> åå°æ’­æ”¾

[Rule]
AND,((DOMAIN-SUFFIX,googlevideo.com), (PROTOCOL,UDP)),REJECT
AND,((DOMAIN,youtubei.googleapis.com), (PROTOCOL,UDP)),REJECT

[Script]
youtube.request = type=http-request,pattern=^https:\/\/youtubei\.googleapis\.com\/youtubei\/v1\/(browse|next|player|reel\/reel_watch_sequence|get_watch),requires-body=1,max-size=-1,binary-body-mode=1,engine={{{è„šæœ¬æ‰§è¡Œå¼•æ“}}},script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/Surge/YouTube(Music)Enhance/JS/YouTube.Request.Preview.js
youtube.response = type=http-response,pattern=^https:\/\/youtubei\.googleapis\.com\/(youtubei\/v1\/(browse|next|player|search|reel\/reel_watch_sequence|guide|account\/get_setting|get_watch))(\?(.*))?$,requires-body=1,max-size=-1,binary-body-mode=1,script-path=https://raw.githubusercontent.com/BOBOLAOSHIV587/Rules/main/Surge/YouTube(Music)Enhance/JS/YouTube.Response.Preview.js,argument="{"lyricLang":"{{{æ­Œè¯ç¿»è¯‘è¯­è¨€}}}","captionLang":"{{{å­—å¹•ç¿»è¯‘è¯­è¨€}}}","blockUpload":{{{å±è”½ä¸Šä¼ æŒ‰é’®}}},"blockImmersive":{{{å±è”½é€‰æ®µæŒ‰é’®}}},"blockShorts":{{{å±è”½ShortsæŒ‰é’®}}},"debug":{{{å¯ç”¨è°ƒè¯•æ¨¡å¼}}}}"

[Map Local]
^https?:\/\/[\w-]+\.googlevideo\.com\/initplayback.+&oad data-type=text data="" status-code=200

[MITM]
hostname = %APPEND% *.googlevideo.com, youtubei.googleapis.com
